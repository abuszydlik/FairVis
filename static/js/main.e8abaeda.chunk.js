(window.webpackJsonpfairvis=window.webpackJsonpfairvis||[]).push([[0],{181:function(e,t,a){e.exports=a.p+"static/media/compas.6aa63d4a.csv"},182:function(e,t,a){e.exports=a.p+"static/media/adult.f0b32474.csv"},246:function(e,t,a){e.exports=a(425)},251:function(e,t,a){},252:function(e,t,a){},259:function(e,t){},260:function(e,t){},266:function(e,t,a){},345:function(e,t,a){},387:function(e,t,a){},417:function(e,t,a){},425:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(38),s=a.n(i),c=(a(251),a(27)),l=a(30),o=a(33),u=a(31),p=a(34),d=a(107),m=a.n(d),h=a(48),f=a.n(h),g=a(26),v=a(108),b=a.n(v),E=a(40),y=a.n(E),k=a(183),x=a.n(k),O=a(17),S=(a(252),a(32));function w(e,t,a,n,r){var i=new Map,s=Object.keys(t);return e.forEach(function(e){var a="",n=[],r=!0;if(s.forEach(function(i){var s=e[i];t[i].includes(s)||0===t[i].length?(n.push(s),a+=s+", "):r=!1}),r){a=a.slice(0,-2);var c=i.get(a);void 0===c?i.set(a,{vals:n,insts:[e]}):(c.insts.push(e),i.set(a,c))}}),function(e,t,a,n,r){var i=[],s=t;return e.forEach(function(e,t){var c=j(e.insts),l=function(e,t,a){var n={};t.forEach(function(e,t){var r=a[t],i={};r.forEach(function(e,t){i[e]=0}),n[e]=i}),e.forEach(function(e,t){Object.entries(e).forEach(function(e){n[e[0]][e[1]]+=1})});var r=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),i=[];return t.forEach(function(e){var t=Object.entries(n[e]);t.sort(function(e,t){return r.compare(e[0],t[0])}),i.push(t)}),i}(e.insts,n,r);i.push({id:s,feats:a,vals:e.vals,insts:e.insts,metrics:c,type:"top",distrib:l}),s++}),i}(i,a,s,n,r)}function j(e){var t=function(e){var t=0,a=0,n=0,r=0,i=0,s=0;return e.forEach(function(e){var c=Math.round(parseFloat(e.out)),l=parseInt(e.class,10);1===c&&1===l?(n++,t++):0===c&&0===l?(r++,a++):1===c&&0===l?(i++,a++):(s++,t++)}),{p:t,n:a,tp:n,tn:r,fp:i,fn:s}}(e),a={size:e.length,p:100*t.p/e.length,n:100*t.n/e.length,acc:100*(t.tp+t.tn)/(t.p+t.n),rec:100*t.tp/(t.tp+t.fn),spec:100*t.tn/(t.fp+t.tn),prec:100*t.tp/(t.tp+t.fp),npv:100*t.tn/(t.tn+t.fn),fnr:100*t.fn/(t.fn+t.tp),fpr:100*t.fp/(t.fp+t.tn),fdr:100*t.fp/(t.fp+t.tp),for:100*t.fn/(t.fn+t.tn),f1:200*t.tp/(2*t.tp+t.fp+t.fn)};return Object.keys(a).forEach(function(e){isNaN(a[e])&&(a[e]=0)}),a}function C(e,t,a){var n=Object.keys(e[0]);n.splice(n.indexOf("class"),1),n.splice(n.indexOf("out"),1),n.splice(n.indexOf("cluster"),1);var r={};n.forEach(function(t){var a=new Set(e.map(function(e){return e[t]}));r[t]=a});var i=[];e.forEach(function(e){-1!==e.cluster&&(null==i[e.cluster]?i[e.cluster]=[e]:i[e.cluster]=[].concat(Object(S.a)(i[e.cluster]),[e]))});var s=[];i.forEach(function(e,t){s[t]={};var a=s[t];a.size=e.length,n.forEach(function(t){a[t]={};var n=a[t];e.forEach(function(e){n[e[t]]=n[e[t]]?n[e[t]]+1:1})})});var c=[];s.forEach(function(e,t){c[t]={};var a=c[t],r=s[t],i=r.size;n.forEach(function(e){a[e]=function(e,t){var a=0;return Object.keys(e).forEach(function(n){e[n]=e[n]/t;var r=e[n];0!==r&&(a+=r*Math.log2(r))}),-a}(r[e],i)})});var l=[];return c.forEach(function(e,t){var a=Object.keys(e).sort(function(t,a){return e[t]-e[a]}),n=s[t],r=a.map(function(e){var t=n[e];return Object.keys(t).reduce(function(e,a){return t[e]<t[a]?e:a})});l[t]={feats:a,clusterid:t,vals:r,insts:i[t],metrics:j(i[t]),distrib:s[t],type:"bottom"}}),l}var N,G="#5a6d94",D="#d6d6d6",M=[{label:"Accuracy",value:"acc",key:"acc"},{label:"Precision",value:"prec",key:"prec"},{label:"Recall",value:"rec",key:"rec"},{label:"Specificity",value:"spec",key:"spec"},{label:"Negative Predictive Value",value:"npv",key:"npv"},{label:"False Negative Rate",value:"fnr",key:"fnr"},{label:"False Positive Rate",value:"fpr",key:"fpr"},{label:"False Discovery Rate",value:"fdr",key:"fdr"},{label:"False Omission Rate",value:"for",key:"for"},{label:"F1",value:"f1",key:"f1"}],z=function(){function e(e){var t=function(e){var t=0,a=0,n=0,r=0,i=0,s=0;return e.forEach(function(e){var c=Math.round(parseFloat(e.out)),l=parseInt(e.class,10);1===c&&1===l?(n++,t++):0===c&&0===l?(r++,a++):1===c&&0===l?(i++,a++):(s++,t++)}),{p:t,n:a,tp:n,tn:r,fp:i,fn:s}}(e),a={size:e.length,p:100*t.p/e.length,n:100*t.n/e.length,acc:100*(t.tp+t.tn)/(t.p+t.n),rec:100*t.tp/(t.tp+t.fn),spec:100*t.tn/(t.fp+t.tn),prec:100*t.tp/(t.tp+t.fp),npv:100*t.tn/(t.tn+t.fn),fnr:100*t.fn/(t.fn+t.tp),fpr:100*t.fp/(t.fp+t.tn),fdr:100*t.fp/(t.fp+t.tp),for:100*t.fn/(t.fn+t.tn),f1:200*t.tp/(2*t.tp+t.fp+t.fn)};return Object.keys(a).forEach(function(e){isNaN(a[e])&&(a[e]=0)}),a}self.addEventListener("message",function(t){var a={},n=t.data;a.data=n,a.avgs=e(n),a.feats=Object.keys(n[0]);for(var r=[],i=function(e){var t=new Set(n.map(function(t){return t[a.feats[e]]})),i=Array.from(t);r.push(i)},s=0;s<a.feats.length;s++)i(s);a.vals=r;var c=function(e,t,a){var n={};return t.forEach(function(e,t){var r=a[t],i={};r.forEach(function(e,t){i[e]=0}),n[e]=i}),e.forEach(function(e,t){Object.entries(e).forEach(function(e){n[e[0]][e[1]]+=1})}),n}(n,a.feats,a.vals),l=[],o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});a.feats.forEach(function(e){var t=Object.entries(c[e]);t.sort(function(e,t){return o.compare(e[0],t[0])}),l.push(t)}),a.distrib=l,postMessage(a)})},P=function e(t){Object(c.a)(this,e);var a=t.toString(),n=new Blob(["("+a+")()"]);return new Worker(URL.createObjectURL(n))},L=a(62),T=a(65),A=a.n(T),B=a(66),R=a.n(B),I=a(43),F=a.n(I),W=a(51),H=a.n(W),U=a(14),V=a.n(U),q=a(76),$=a.n(q),J=a(44),_=a.n(J),Y=a(52),K=a.n(Y),Q=a(78),X=a.n(Q),Z={$schema:"https://vega.github.io/schema/vega-lite/v3.json",mark:{type:"bar",tooltip:!0},width:250,transform:[{calculate:"datum.val/100",as:"percent"}],encoding:{y:{field:"name",type:"ordinal",axis:{title:"",labelFontSize:13,labelPadding:10}},x:{field:"percent",aggregate:"sum",type:"quantitative",axis:{title:"Ground Truth Label Balance",format:"%"}},color:{field:"color",type:"nominal",scale:{domain:["hovpos","hovneg","clickpos","clickneg"],range:["#64b5f6","rgba(100, 181, 246, .3)","#e57373","rgba(229, 115, 115, .3)"]},legend:null}}},ee=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];return void 0!==this.props.clickedGroup&&(e.push({name:"Pinned",type:"Positive",val:this.props.clickedGroup.metrics.p,color:"clickpos"}),e.push({name:"Pinned",type:"Negative",val:this.props.clickedGroup.metrics.n,color:"clickneg"})),void 0!==this.props.hoveredGroup&&(e.push({name:"Hovered",type:"Positive",val:this.props.hoveredGroup.metrics.p,color:"hovpos"}),e.push({name:"Hovered",type:"Negative",val:this.props.hoveredGroup.metrics.n,color:"hovneg"})),r.a.createElement(X.a,{data:{values:e},spec:Z})}}]),t}(n.Component),te=(a(266),{$schema:"https://vega.github.io/schema/vega-lite/v3.json",width:250,height:50,mark:"bar",transform:[{calculate:"datum.value/100",as:"percent"}],spacing:10,encoding:{row:{field:"metric",type:"ordinal",scale:{padding:4},axis:{title:"",orient:"top",axisWidth:1,offset:-8},header:{title:""}},y:{field:"group",type:"ordinal",axis:{title:"",labels:!1}},x:{field:"percent",type:"quantitative",scale:{domain:[0,1]},axis:{title:"",format:"%"}},tooltip:{field:"percent",type:"quantitative"},color:{field:"group",type:"nominal",scale:{domain:["hovered","pinned"],range:["#64b5f6","#e57373"]},legend:null}}}),ae=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[];return this.props.hoveredGroup&&(t=t.concat(this.props.selectedMetrics.map(function(t){return{group:"hovered",metric:t.label,value:e.props.hoveredGroup.metrics[t.value]}}))),this.props.clickedGroup&&(t=t.concat(this.props.selectedMetrics.map(function(t){return{group:"pinned",metric:t.label,value:e.props.clickedGroup.metrics[t.value]}}))),r.a.createElement(X.a,{data:{values:t},spec:te})}}]),t}(n.Component),ne=a(50),re=a.n(ne),ie=(N={card:{width:"25%",height:"100%",marginTop:70,marginRight:10,overflow:"scroll"},featureStyle:{textAlign:"justify"},avatar:{backgroundColor:"#1D2737"},expand:{margin:"0px auto"},metrics:{marginTop:10},feats:{marginBottom:10},hovered:{color:"#2979ff"},clicked:{color:"#b71c1c"},header:{display:"flex",flexDirection:"inline",justifyContent:"space-between",padding:7,marginBottom:5},selectedGroups:{marginTop:8}},Object(L.a)(N,"feats",{paddingLeft:8}),Object(L.a)(N,"hoveredCell",{paddingRight:8}),N),se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).export=function(){var e=a.props.activeGroups[a.props.clicked];if(e){!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-u,"+encodeURIComponent(e)),a.setAttribute("download",t),a.click()}(JSON.stringify(e),"clickedgroup.json")}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.hovered!==this.props.hovered||e.clicked!==this.props.clicked}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.activeGroups[this.props.clicked],n=this.props.activeGroups[this.props.hovered],i=[];a&&(i=a.feats,"bottom"===a.type&&(i=a.feats.slice(0,5)));var s=[];n&&(s=n.feats,"bottom"===n.type&&(s=n.feats.slice(0,5)));var c=Object(S.a)(new Set(s.concat(i))).map(function(i,s){var c=r.a.createElement(V.a,null),l=r.a.createElement(V.a,null);return-1!==e.props.clicked&&a.feats.includes(i)&&(l=r.a.createElement(V.a,{align:"right"},a.vals[a.feats.indexOf(i)])),-1!==e.props.hovered&&n.feats.includes(i)&&(c=r.a.createElement(V.a,{align:"right",className:t.hoveredCell},n.vals[n.feats.indexOf(i)])),r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{key:s},r.a.createElement(V.a,{className:t.feat},i),l,c))});return r.a.createElement(A.a,{className:t.card},r.a.createElement(R.a,null,r.a.createElement("div",{className:t.header},r.a.createElement("h4",{className:t.selectedGroups},"Group Details"),r.a.createElement(f.a,{className:t.exportButton,variant:"contained",color:"secondary",onClick:this.export},"Export")),r.a.createElement(re.a,null),r.a.createElement(ae,{hoveredGroup:n,clickedGroup:a,selectedMetrics:this.props.selectedMetrics}),r.a.createElement(ee,{hoveredGroup:n,clickedGroup:a}),r.a.createElement(F.a,{className:t.feats},r.a.createElement(H.a,{className:t.table,padding:"none",size:"small"},r.a.createElement("colgroup",null,r.a.createElement("col",{style:{width:"33%"}}),r.a.createElement("col",{style:{width:"33%"}}),r.a.createElement("col",{style:{width:"33%"}})),r.a.createElement($.a,{className:t.tableHeader},r.a.createElement(_.a,{key:0},r.a.createElement(V.a,{className:t.feat},"Feature"),r.a.createElement(V.a,{align:"right"},r.a.createElement("span",{className:t.clicked},"Pinned")),r.a.createElement(V.a,{align:"right",className:t.hoveredCell},r.a.createElement("span",{className:t.hovered},"Hovered"))),r.a.createElement(_.a,{key:1},r.a.createElement(V.a,null,"Size"),r.a.createElement(V.a,{align:"right"},a&&a.metrics.size),r.a.createElement(V.a,{align:"right"},n&&n.metrics.size))),r.a.createElement(K.a,null,c)))))}}]),t}(n.Component),ce=Object(g.withStyles)(ie)(se),le=a(87),oe=a.n(le),ue=a(102),pe=a.n(ue),de=a(100),me=a.n(de),he=a(85),fe=a.n(he),ge=a(67),ve=a.n(ge),be=a(86),Ee=a.n(be),ye=a(103),ke=a.n(ye),xe=a(101),Oe=a.n(xe),Se=a(173),we=(a(345),300),je=100,Ce=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).update=function(){if("global"===a.props.type)a.drawGlobalDistBar(a.props.dataDistrib,a.props.featName,a.props.featIndex,a.props.maxy);else{var e="click"===a.props.type?a.props.clicked:a.props.hovered;a.drawGroupDistBar(a.props.activeGroups,e,a.props.type,a.props.featName,a.props.featIndex,a.props.maxy)}},a.drawGlobalDistBar=function(e,t,n,r){var i=e[n];a.drawBar(i,n,"global",r)},a.drawGroupDistBar=function(e,t,n,r,i,s){if(O.f("#box-plot-bar-"+n+"-"+i).remove(),t>=0){var c=e[t];if("top"===c.type){var l=c.distrib[i];a.drawBar(l,i,"bar-"+n,s)}}},a.drawBar=function(e,t,n,r){var i=a.node,s=O.f(i).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 300 100").attr("class","box-plot").attr("id","box-plot-"+n+"-"+t).append("g").attr("transform","translate("+a.state.margin.left+","+a.state.margin.top+")"),c=O.d().rangeRound([0,300],.1).domain(e.map(function(e){return e[0]})),l=O.e().range([a.state.height,0]).domain([0,r]),o=a.state.height,u=Object(Se.a)().attr("class","d3-tip").offset([-10,0]).html(function(e){return e[0]+": <span style='color:"+D+"'>"+e[1]+"</span>"});s.call(u),s.selectAll("rect").data(e).enter().append("rect").attr("x",function(e){return c(e[0])}).attr("y",function(e){return l(e[1])}).attr("width",function(e){return c.bandwidth()}).attr("height",function(e){return o-l(e[1])}).attr("id",function(e,a){return"rect-"+t+"-"+a}).attr("class","barchart-rect "+n).on("mouseover",u.show).on("mouseout",u.hide)};var n={top:50,right:10,bottom:0,left:10},r=we-n.left-n.right,i=je-n.top-n.bottom;return a.state={margin:n,width:r,height:i},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return"global"===this.props.type&&0===this.props.dataDistrib.length&&0!==e.dataDistrib.length||("click"===this.props.type&&this.props.clicked!==e.clicked||"hover"===this.props.type&&this.props.hovered!==e.hovered)}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.node=t}})}}]),t}(n.Component),Ne=a(68),Ge=Object(L.a)({info:{},drawer:{width:"20%",flexShrink:0,marginTop:65,maxWidth:360},feature:{margin:10},button:{margin:"0px auto"},listItem:{paddingBottom:"20px",height:100,alignItems:"baseline"},listText:{height:25},radio:{top:"25%"},divider:{marginTop:5},boxLabel:{textTransform:"capitalize",fontSize:"16px",color:"#1D2737",fontWeight:500,margin:0}},"info",{color:"#1D2737",cursor:"pointer"}),De=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).compareState=function(e,t){if(e.opened.size!==t.opened.size||e.checked.size!==t.checked.size)return!0;var a=!1;return Object.keys(e.subchecked).forEach(function(n){t.subchecked[n].size!==e.subchecked[n].size&&(a=!0)}),a},a.handleToggle=function(e){return function(){var t=a.state.checked,n=new Set(t);n.has(e)?n.delete(e):n.add(e),a.setState({checked:n})}},a.handleSubToggle=function(e,t){return function(){var n=a.state,r=n.subchecked,i=n.checked,s={};Object.keys(r).forEach(function(e){s[e]=new Set(r[e])});var c=new Set(i);s[e].has(t)?s[e].delete(t):s[e].add(t),c.delete(e),a.setState({subchecked:s,checked:c})}},a.handleClick=function(e){return function(){var t=a.state.opened,n=new Set(t);n.has(e)?n.delete(e):n.add(e),a.setState({opened:n})}},a.handleHover=function(e,t){var a="#rect-"+e+"-"+t;O.f(a).style("fill",G).style("opacity",1)},a.handleUnhover=function(e,t){var a="#rect-"+e+"-"+t;O.f(a).style("fill",D).style("opacity",.8)},a.handleClickSubgroup=function(){var e={},t={};a.props.features.forEach(function(n,r){if(a.state.checked.has(r)||a.state.subchecked[r].size>0){var i=[];a.state.subchecked[r].forEach(function(e){i.push(a.props.values[r][e])}),e[n]=i}t[r]=new Set}),a.props.createSubgroups(e),a.setState({checked:new Set,subchecked:t})};var n={},r=[];return e.features.forEach(function(t,a){n[a]=new Set;var i=O.c(e.dataDistrib[a],function(e){return e[1]});r.push(i)}),a.state={checked:new Set,opened:new Set,subchecked:n,features:e.features,max_ys:r},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!(0===this.props.features.length&&e.features.length>0||this.props.clicked!==e.clicked||this.props.hovered!==e.hovered||this.compareState(this.state,t))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return this.props.features.length>0?r.a.createElement(me.a,{className:t.drawer,classes:{paper:t.drawer},variant:"permanent",anchor:"left"},r.a.createElement(fe.a,null,r.a.createElement(ve.a,{key:-1},r.a.createElement(Oe.a,{title:"Create all subgroups of the selected features",placement:"bottom"},r.a.createElement(f.a,{variant:"contained",color:"secondary",className:t.button,onClick:this.handleClickSubgroup},"Generate Subgroups")),r.a.createElement(Ne.c,{className:t.info,onClick:function(){return alert("hello")}})),r.a.createElement(re.a,null),this.props.features.map(function(n,i){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{key:"section-".concat(i),className:t.listItem,onClick:e.handleClick(i)},r.a.createElement("p",{className:t.boxLabel},n),r.a.createElement(Ce,{featName:n,dataDistrib:e.props.dataDistrib,featIndex:i,type:"global",maxy:e.state.max_ys[i]}),r.a.createElement(Ce,{featName:n,featIndex:i,clicked:e.props.clicked,hovered:e.props.hovered,activeGroups:e.props.activeGroups,type:"hover",maxy:e.state.max_ys[i]}),r.a.createElement(Ee.a,{className:t.radio},r.a.createElement(oe.a,{onChange:e.handleToggle(i),checked:e.state.checked.has(i),disabled:e.state.subchecked[i].size>0}))),r.a.createElement(pe.a,{in:e.state.opened.has(i),timeout:"auto",unmountOnExit:!0},e.props.values[i].sort(a.compare).map(function(t,a){return r.a.createElement(ve.a,{key:"item-".concat(i,"-").concat(a),button:!0,onMouseOver:function(t){return e.handleHover(i,a,t)},onMouseOut:function(t){return e.handleUnhover(i,a,t)}},r.a.createElement(ke.a,{primary:t}),r.a.createElement(Ee.a,null,r.a.createElement(oe.a,{onChange:e.handleSubToggle(i,a),checked:e.state.subchecked[i].has(a)})))})),r.a.createElement(re.a,{className:t.divider}))}))):r.a.createElement("div",{className:t.drawer},"Loading...")}}]),t}(n.Component),Me=Object(g.withStyles)(Ge)(De),ze={$schema:"https://vega.github.io/schema/vega-lite/v3.json",height:50,width:75,data:{name:"myData"},transform:[{calculate:"datum.makeup/100",as:"percent"}],mark:{type:"bar",tooltip:!0},encoding:{y:{field:"value",type:"ordinal",axis:{title:""},sort:{encoding:"x",order:"descending"}},x:{field:"percent",type:"quantitative",axis:{title:"",format:"%"}},color:{field:"primary",type:"nominal",scale:{domain:[0,1],range:["#1D2737","#718C73"]},legend:null}}},Pe=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cluster,a=this.props.feature,n=t.distrib[a],i=this.props.values[this.props.features.indexOf(a)].map(function(t,a){return n[t]?{value:t,makeup:100*n[t],primary:t===e.props.maxVal?1:0}:{value:t,makeup:0,primary:0}});return r.a.createElement(X.a,{data:{values:i},spec:ze,style:{paddingLeft:0}})}}]),t}(n.Component),Le=a(175),Te=a.n(Le),Ae=a(176),Be=a.n(Ae),Re=a(59),Ie=a.n(Re),Fe=a(49),We=a.n(Fe),He=a(60),Ue=a.n(He);function Ve(e,t){var a=[];return t.forEach(function(t){var n=t.feats.length,r=-1;e.feats.forEach(function(a,i){var s=t.feats.indexOf(a);s>=0&&(t.vals[s]===e.vals[i]?n--:r=i)}),1===n&&(t.featDiff=r,a.push(t))}),a}var qe=a(174),$e=(a(387),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).mouseEnter=function(e){a.props.suggestedHover(e)},a.mouseLeave=function(e){a.props.suggestedUnhover(e)},a.mouseClick=function(e){a.props.suggestedClick(e)},a.pageRight=function(){2*a.state.page+3<a.props.clusters.length&&a.setState({page:a.state.page+1})},a.pageLeft=function(){0!==a.state.page&&a.setState({page:a.state.page-1})},a.changeView=function(e){0===e.target.value?a.setState({showSimilar:!1}):-1!==a.props.clicked?a.setState({neighbors:Ve(a.props.activeGroups[a.props.clicked],a.props.activeGroups.slice()),showSimilar:!0}):a.setState({showSimilar:!0})},a.changeSort=function(e){a.setState({sort:e.target.value})},a.state={page:0,showSimilar:!1,neighbors:[],sort:"acc"},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){return!!e.clustersLoaded}},{key:"render",value:function(){var e=this,t=this.props.classes;if(this.state.showSimilar&&0!==this.state.neighbors.length&&-1!==this.props.clicked){var a=this.props.activeGroups[this.props.clicked],n=this.state.neighbors.sort(function(t,a){return t.metrics[e.state.sort]-a.metrics[e.state.sort]}).map(function(n,i){return r.a.createElement(A.a,{className:"similar-card",key:i,onMouseEnter:function(t){return e.mouseEnter(n)},onMouseLeave:function(t){return e.mouseLeave(n)},onClick:function(t){return e.mouseClick(n)}},r.a.createElement(R.a,{className:t.cardContent},r.a.createElement(H.a,{className:t.table,padding:"dense"},r.a.createElement(K.a,null,r.a.createElement(_.a,null,r.a.createElement(V.a,null,r.a.createElement("b",null," Group ",2*e.state.page+i+1," "),r.a.createElement("br",null),"top"===n.type?"Generated":"Suggested"),r.a.createElement(V.a,null),r.a.createElement(V.a,{align:"right"},n.metrics.size," Instances")))),r.a.createElement(H.a,{className:t.diffTable,padding:"dense"},r.a.createElement(qe.a,null,r.a.createElement(_.a,null,r.a.createElement(V.a,null,"Feature Difference"),r.a.createElement(V.a,{style:{color:"#b71c1c"},align:"right"},"Pinned"),r.a.createElement(V.a,{style:{color:"#718C73"},align:"right"},"Similar"))),r.a.createElement(K.a,null,r.a.createElement(V.a,null,a.feats[n.featDiff]),r.a.createElement(V.a,{align:"right"},a.vals[n.featDiff]),r.a.createElement(V.a,{align:"right"},n.vals[n.feats.indexOf(a.feats[n.featDiff])])))))});return r.a.createElement(F.a,{className:t.paper},r.a.createElement("div",{className:t.header},r.a.createElement(Ie.a,null,r.a.createElement(Ue.a,{value:1,onChange:this.changeView},r.a.createElement(We.a,{value:0},"Suggested Subgroups"),r.a.createElement(We.a,{value:1},"Similar Subgroups"))),r.a.createElement("div",{className:t.settings},r.a.createElement(y.a,{variant:"body1",className:t.sortText},"Sort by:"),r.a.createElement(Ie.a,null,r.a.createElement(Ue.a,{value:this.state.sort,onChange:this.changeSort},M.map(function(e){return r.a.createElement(We.a,{value:e.value},e.label)}))))),r.a.createElement(re.a,{className:t.headerDivider}),r.a.createElement("div",{className:t.similarGroups},n))}var i=this.props.clusters.filter(function(t){return t.metrics.size>e.props.minSize}).sort(function(t,a){return t.metrics[e.state.sort]-a.metrics[e.state.sort]}).slice(2*this.state.page,2*this.state.page+2).map(function(a,n){return r.a.createElement(A.a,{className:"suggested-card",key:n,onMouseEnter:function(t){return e.mouseEnter(a)},onMouseLeave:function(t){return e.mouseLeave(a)},onClick:function(t){return e.mouseClick(a)}},r.a.createElement(R.a,{className:t.cardContent},r.a.createElement(H.a,{className:t.table,padding:"none"},r.a.createElement(K.a,null,r.a.createElement(_.a,null,r.a.createElement(V.a,{padding:"none",className:t.leftCell},r.a.createElement("b",null,"Group ",2*e.state.page+n+1)),r.a.createElement(V.a,{width:80,padding:"dense",align:"right"},a.metrics.size," Instances")),a.feats.map(function(n,i){return r.a.createElement(_.a,{key:i},r.a.createElement(V.a,{padding:"none",className:t.leftCell},r.a.createElement("b",{className:t.label},n),r.a.createElement("br",null),r.a.createElement("span",{className:t.value},a.vals[i])),r.a.createElement(V.a,{padding:"none",className:t.cell,align:"right"},r.a.createElement(Pe,{maxVal:a.vals[i],features:e.props.features,values:e.props.values,cluster:a,feature:n})))})))))});return r.a.createElement(F.a,{className:t.paper},r.a.createElement("div",{className:t.header},r.a.createElement(Ie.a,null,r.a.createElement(Ue.a,{value:0,onChange:this.changeView},r.a.createElement(We.a,{value:0},"Suggested Subgroups"),r.a.createElement(We.a,{value:1},"Similar Subgroups"))),r.a.createElement("div",{className:t.settings},r.a.createElement(y.a,{variant:"body1",className:t.sortText},"Sort by:"),r.a.createElement(Ie.a,null,r.a.createElement(Ue.a,{value:this.state.sort,onChange:this.changeSort},M.map(function(e){return r.a.createElement(We.a,{value:e.value},e.label)}))),r.a.createElement("div",{className:t.paging},r.a.createElement(Te.a,{onClick:this.pageLeft}),r.a.createElement(y.a,{variant:"body1"},2*this.state.page+1," -"," ",2*this.state.page+2>this.props.clusters.length?this.props.clusters.length:2*this.state.page+2),r.a.createElement(Be.a,{onClick:this.pageRight})))),r.a.createElement(re.a,{className:t.headerDivider}),r.a.createElement("div",{className:t.cards},i))}}]),t}(n.Component)),Je=Object(g.withStyles)({paper:{height:350,overflow:"scroll",marginLeft:20,marginRight:20,marginTop:30},metrics:{display:"flex",flexDirection:"inline",justifyContent:"space-between",padding:7},header:{display:"flex",flexDirection:"inline",justifyContent:"space-between",padding:7},cards:{display:"flex",flexDirection:"inline",justifyContent:"center"},cardContent:{padding:0},divider:{marginTop:10,marginBottom:10},headerDivider:{marginBottom:7},table:{width:"100%"},fab:{float:"right"},paging:{float:"right",display:"inline-flex",marginTop:7,justifyContent:"center"},label:{textTransform:"capitalize"},value:{color:"#718C73"},similarGroups:{display:"inline-flex",flexWrap:"wrap",justifyContent:"center"},settings:{display:"inline-flex"},sortText:{marginRight:13,marginTop:7},diffTable:{marginTop:10},leftCell:{paddingLeft:"10px",maxWidth:50}})($e),_e=a(185),Ye=a(9),Ke=a.n(Ye),Qe=a(186),Xe=a(104),Ze=a.n(Xe),et=a(105),tt=a.n(et),at=a(177),nt=a.n(at),rt=a(55);function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function st(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(a,!0).forEach(function(t){Object(L.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ct(e){var t=e.inputRef,a=Object(_e.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var lt={Control:function(e){return r.a.createElement(Ze.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:ct,inputProps:st({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return r.a.createElement(F.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return r.a.createElement(tt.a,{tabIndex:-1,label:e.children,className:Ke()(e.selectProps.classes.chip,Object(L.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:r.a.createElement(nt.a,e.removeProps)})},NoOptionsMessage:function(e){return r.a.createElement(y.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(We.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return r.a.createElement(y.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},ot=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.onMetricChange(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.selectedMetrics,t=this.props.suggestions;return r.a.createElement("div",{className:this.props.classes.selectorWrapper},r.a.createElement(Qe.a,{classes:this.props.classes,options:t,components:lt,onChange:this.handleChange,value:e,placeholder:"Select Fairness Metrics",isMulti:!0}))}}]),t}(n.Component),ut=Object(g.withStyles)(function(e){return{selectorWrapper:{minWidth:250,color:"white",marginRight:20,marginTop:10},input:{display:"flex",padding:0},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},chipFocused:{backgroundColor:Object(rt.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},placeholder:{position:"absolute",left:2,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},divider:{height:2*e.spacing.unit}}})(ot),pt=(a(417),function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).createStripPlot=function(){var e=a.node;O.f(e).selectAll("svg").remove(),a.props.selectedMetrics.forEach(function(t){O.f(e).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 1000 105").attr("id","stripplot-"+t.value).append("g").attr("transform","translate("+a.state.margin.left+","+a.state.margin.top+")").append("g").attr("class","x axis").attr("transform","translate(0,"+a.state.height+")").call(a.state.xAxis).append("text").text(t.label).attr("class","axis-label").attr("x",-10).attr("y",-10)}),a.update()},a.update=function(){a.props.selectedMetrics.forEach(function(e){var t=O.f(a.node).select("#stripplot-"+e.value);t.selectAll(".percentline").remove(),t.selectAll(".percentline").data(a.props.activeGroups,function(e){return e.id}).enter().append("line").filter(function(e){return e.metrics.size>a.props.minSize}).attr("x1",function(t){return a.state.xScale(t.metrics[e.value])+50}).attr("x2",function(t){return a.state.xScale(t.metrics[e.value])+50}).attr("y1",30).attr("y2",80).attr("class","percentline").attr("id",function(e){return"linecluster"+e.id}).on("mouseover",function(e){a.props.barHover(e.id)}).on("mouseout",function(e){a.props.barHover(-1)}).on("click",function(e){a.props.barClick(e.id)}),delete a.props.avgs.size;var n=t.selectAll("line.avg").data(a.props.avgs).enter().append("g");n.append("line").attr("x1",function(t){return a.state.xScale(t[e.value])+50}).attr("x2",function(t){return a.state.xScale(t[e.value])+50}).attr("y1",20).attr("y2",90).style("stroke","#5a6d94").style("stroke-width",2).style("opacity",.4),n.append("text").text(function(t){return"avg: "+t[e.value].toFixed(2)+"%"}).attr("text-anchor","middle").attr("x",function(t){return a.state.xScale(t[e.value])+50}).attr("y",15).attr("font-family","sans-serif").attr("font-size","12px").attr("fill","#5a6d94")})};var n={top:0,right:50,bottom:0,left:50},r=O.e().range([0,1e3-n.right-n.left]).domain([0,100]),i=O.e().range([80-n.top-n.bottom,0]).domain([0,100]),s=O.a().scale(r).tickPadding(8).ticks(8).tickFormat(function(e){return 1*e+"%"});return a.state={margin:n,width:1e3-n.left-n.right,height:80-n.top-n.bottom,xScale:r,yScale:i,xAxis:s},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.createStripPlot()}},{key:"shouldComponentUpdate",value:function(e,t){return e.minSize!==this.props.minSize||(e.selectedMetrics.length!==this.props.selectedMetrics.length||e.activeGroups.length!==this.props.activeGroups.length)}},{key:"componentDidUpdate",value:function(e,t){e.selectedMetrics.length!==this.props.selectedMetrics.length&&this.createStripPlot()}},{key:"render",value:function(){var e=this;return this.update(),r.a.createElement("div",{className:this.props.classes.plot,ref:function(t){return e.node=t}})}}]),t}(n.Component)),dt=Object(g.withStyles)({plot:{display:"inline-block",minWidth:500,width:"100%"}})(pt),mt=a(106),ht=a.n(mt),ft=a(181),gt=a.n(ft),vt=a(182),bt=a.n(vt),Et={body:{display:"flex",flexDirection:"inline"},content:{width:"55%",display:"flex",flexDirection:"column",marginTop:65,marginLeft:10},subtitle:{flexGrow:1,color:D,textAlign:"center"},tagline:{flexGrow:1,marginLeft:30,color:D,textAlign:"left"},loadingScreen:{minWidth:"100%",minHeight:"calc(100% + 22px)",marginTop:-22,backgroundColor:"#1D2737",margin:"0px auto"},loadingText:{paddingTop:150,color:"white",textAlign:"center"},loadingProgress:{display:"block",marginLeft:"auto",marginRight:"auto",color:"white"},datasets:{width:"600px",margin:"0px auto",marginTop:10},tabletitle:{marginTop:50,color:"white",textAlign:"center"},title:{fontWeight:800},adddata:{color:"white",textAlign:"center"},dataLink:{textDecorationColor:"black",color:"black",textDecoration:"none"},socialLink:{padding:10,background:"#1D2737",margin:10,color:D,fontFamily:"Roboto",fontWeight:500,fontSize:16,borderColor:"white",borderRadius:7,display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer"},social:{display:"flex",justifyContent:"center",marginTop:70},icon:{fontSize:16,marginRight:10}},yt=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=r.a.createElement(r.a.Fragment,null);return this.props.loading&&(a=r.a.createElement(ht.a,null)),r.a.createElement("div",{className:t.loadingScreen},r.a.createElement(y.a,{variant:"h2",color:"inherit",className:t.loadingText},r.a.createElement("strong",null,"FairVis")," "),r.a.createElement(y.a,{variant:"h6",className:t.subtitle},"Audit Classification Models for Intersectional Bias"),r.a.createElement(y.a,{variant:"h6",className:t.tabletitle},"Select a Dataset"),r.a.createElement(F.a,{className:t.datasets},r.a.createElement(H.a,{className:t.table},r.a.createElement($.a,null,r.a.createElement(_.a,null,r.a.createElement(V.a,null,"Dataset"),r.a.createElement(V.a,null,"Goal"),r.a.createElement(V.a,null,"Size"),r.a.createElement(V.a,{align:"center"},a))),r.a.createElement(K.a,null,r.a.createElement(_.a,null,r.a.createElement(V.a,{component:"th",scope:"row"},r.a.createElement("a",{className:t.dataLink,href:"https://archive.ics.uci.edu/ml/datasets/Adult"},"UCI Adult")),r.a.createElement(V.a,null,"Predict income >$50K"),r.a.createElement(V.a,null,"32,562"),r.a.createElement(V.a,{align:"right"},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(t){return e.props.loadData(bt.a)}},"Select"))),r.a.createElement(_.a,null,r.a.createElement(V.a,{component:"th",scope:"row"},r.a.createElement("a",{className:t.dataLink,href:"https://github.com/propublica/compas-analysis/"},"COMPAS")),r.a.createElement(V.a,null,"Predict recidivism"),r.a.createElement(V.a,null,"6,173"),r.a.createElement(V.a,{align:"right"},r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(t){return e.props.loadData(gt.a)}},"Select")))))),r.a.createElement("a",{href:"./",className:t.adddata},r.a.createElement("p",null,"Instructions for adding a custom dataset")),r.a.createElement("div",{className:t.social},r.a.createElement("a",{href:"https://arxiv.org/abs/1904.05419"},r.a.createElement("button",{className:t.socialLink},r.a.createElement(Ne.e,{className:t.icon}),"Full Paper")),r.a.createElement("a",{href:"https://medium.com/p/acbd362a3e2f"},r.a.createElement("button",{className:t.socialLink},r.a.createElement(Ne.d,{className:t.icon})," Blog")),r.a.createElement("a",{href:"https://github.com/poloclub/FairVis"},r.a.createElement("button",{className:t.socialLink},r.a.createElement(Ne.a,{className:t.icon}),"Code")),r.a.createElement("a",{href:"https://cabreraalex.com/#/paper/fairvis"},r.a.createElement("button",{className:t.socialLink},r.a.createElement(Ne.b,{className:t.icon}),"Cite"))))}}]),t}(n.Component),kt=Object(g.withStyles)(Et)(yt),xt=Object(g.createMuiTheme)({palette:{primary:{main:"#1D2737"},secondary:{main:G}},overrides:{MuiSlider:{thumb:{backgroundColor:"#EBEBEB"},track:{backgroundColor:"#EBEBEB"}}}}),Ot={appBar:{zIndex:1},body:{display:"flex",flexDirection:"inline"},content:{width:"55%",display:"flex",flexDirection:"column",marginTop:65,marginLeft:10},plot:{width:"100%"},slider:{width:150,padding:20,marginRight:30},reset:{float:"right"},subtitle:{flexGrow:1,color:D,textAlign:"center"},tagline:{flexGrow:1,marginLeft:30,color:D,textAlign:"left"},loadingScreen:{minWidth:"100%",minHeight:"calc(100% + 22px)",marginTop:-22,backgroundColor:"#1D2737",margin:"0px auto"},loadingText:{paddingTop:150,color:"white",textAlign:"center"},loadingProgress:{display:"block",marginLeft:"auto",marginRight:"auto",color:"white"},datasets:{width:"600px",margin:"0px auto",marginTop:10},tabletitle:{marginTop:50,color:"white",textAlign:"center"},title:{fontWeight:800},adddata:{color:"white",textAlign:"center"}},St=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).loadData=function(e){a.setState({loading:1});var t=new P(z);t.addEventListener("message",function(e){var t=e.data,n=C(t.data,t.feats,t.vals);a.setState({data:t.data,dataDistrib:t.distrib,avgs:[t.avgs],features:t.feats,values:t.vals,clusters:n,dataLoaded:!0,clustersLoaded:!0})}),O.b(e).then(function(e){return t.postMessage(e)})},a.createSubgroups=function(e){var t=w(a.state.data,e,a.state.activeGroups.length,a.state.features,a.state.values);a.setState({activeGroups:a.state.activeGroups.concat(t)})},a.suggestedHover=function(e){O.g(".linehover").classed("linehover",!1);var t=a.state.activeGroups.filter(function(t){return t.clusterid===e.clusterid});0===t.length?(e.id=a.state.activeGroups.length,a.setState({activeGroups:a.state.activeGroups.concat(e),hovered:e.id},function(){O.g("#linecluster"+e.id).classed("linehover",!0),O.g("#linecluster"+a.state.clicked).classed("lineclick",!0)})):(O.g("#linecluster"+t[0].id).classed("linehover",!0),a.setState({hovered:t[0].id},function(){O.g("#linecluster"+a.state.clicked).classed("lineclick",!0)}))},a.suggestedUnhover=function(e){O.g(".linehover").classed("linehover",!1);var t=a.state.activeGroups.filter(function(t){return t.id===a.state.clicked||t.id!==e.id});a.setState({activeGroups:t,hovered:-1},function(){O.g("#linecluster"+a.state.clicked).classed("lineclick",!0)})},a.suggestedClick=function(e){O.g(".lineclick").classed("lineclick",!1);var t=a.state.activeGroups.filter(function(t){return t.clusterid===e.clusterid});0===t.length?(e.id=a.state.activeGroups.length,a.setState({activeGroups:a.state.activeGroups.concat(e),clicked:e.id},function(){O.g("#linecluster"+e.id).classed("lineclick",!0)})):(O.g("#linecluster"+t[0].id).classed("lineclick",!0),a.setState({clicked:t[0].id}))},a.barHover=function(e){O.g(".linehover").classed("linehover",!1),O.g("#linecluster"+e).classed("linehover",!0),a.setState({hovered:e})},a.barClick=function(e){O.g(".lineclick").classed("lineclick",!1),O.g("#linecluster"+e).classed("lineclick",!0),a.setState({clicked:e})},a.changeMinSize=function(e,t){a.setState({minSize:t})},a.resetGroups=function(){a.setState({hovered:-1,clicked:-1,minSize:0,activeGroups:[]})},a.handleMetricsChange=function(e){a.setState({selectedMetrics:e})},document.title="FairVis - Audit Classification for Intersectional Bias",a.state={data:[],dataDistrib:{},clusters:[],activeGroups:[],avgs:[],features:[],values:[],hovered:-1,clicked:-1,selectedMetrics:M.slice(0,3),minSize:0,loading:0,dataLoaded:!1,clustersLoaded:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.dataLoaded?r.a.createElement(g.MuiThemeProvider,{theme:xt},r.a.createElement(m.a,{position:"fixed",className:e.appBar},r.a.createElement(b.a,null,r.a.createElement(y.a,{inline:!0,variant:"h4",color:"inherit",className:e.title},"FairVis"),r.a.createElement(y.a,{inline:!0,variant:"h6",className:e.tagline}," ","Audit Classification for Intersectional Bias"," "),r.a.createElement(y.a,{variant:"body1",color:"inherit"},"Minimum Size: ",this.state.minSize),r.a.createElement(x.a,{className:e.slider,value:this.state.minSize,onChange:this.changeMinSize,step:1,min:0,max:0===this.state.activeGroups.length?0:O.c(this.state.activeGroups,function(e){return e.metrics.size})}),r.a.createElement(f.a,{className:e.reset,variant:"contained",color:"secondary",onClick:this.resetGroups},"Reset Groups"))),r.a.createElement("div",{className:e.body},r.a.createElement(Me,{features:this.state.features,values:this.state.values,createSubgroups:this.createSubgroups,dataDistrib:this.state.dataDistrib,dataLoaded:this.state.dataLoaded,hovered:this.state.hovered,clicked:this.state.clicked,activeGroups:this.state.activeGroups}),r.a.createElement("div",{className:e.content},r.a.createElement(ut,{className:e.metricSelector,onMetricChange:this.handleMetricsChange,suggestions:M,selectedMetrics:this.state.selectedMetrics}),r.a.createElement("div",{className:e.plot},r.a.createElement(dt,{activeGroups:this.state.activeGroups,avgs:this.state.avgs,barHover:this.barHover,barClick:this.barClick,minSize:this.state.minSize,selectedMetrics:this.state.selectedMetrics})),r.a.createElement(Je,{clusters:this.state.clusters,minSize:this.state.minSize,suggestedHover:this.suggestedHover,suggestedUnhover:this.suggestedUnhover,suggestedClick:this.suggestedClick,clustersLoaded:this.state.clustersLoaded,features:this.state.features,values:this.state.values,clicked:this.state.clicked,activeGroups:this.state.activeGroups})),r.a.createElement(ce,{hovered:this.state.hovered,clicked:this.state.clicked,activeGroups:this.state.activeGroups,selectedMetrics:this.state.selectedMetrics,clusters:this.state.clusters}))):r.a.createElement(kt,{loadData:this.loadData,loading:this.state.loading})}}]),t}(n.Component),wt=Object(g.withStyles)(Ot)(St);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[246,1,2]]]);
//# sourceMappingURL=main.e8abaeda.chunk.js.map